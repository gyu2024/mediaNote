<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.mn.cm.dao.NoticeMapper">

    <select id="selectNoticeList" resultType="map">
        SELECT NOTICE_ID, TITLE, VER_INFO, UPDATE_TYPE, WRITER, VIEW_CNT, FIX_YN, REG_DT, CONTENT
        FROM MN_NOTICE
        ORDER BY CASE WHEN FIX_YN = 'Y' THEN 0 ELSE 1 END ASC, NOTICE_ID DESC
    </select>

    <select id="selectNoticeById" parameterType="long" resultType="map">
        SELECT NOTICE_ID, TITLE, VER_INFO, UPDATE_TYPE, CONTENT, WRITER, VIEW_CNT, FIX_YN, REG_DT, MOD_DT
        FROM MN_NOTICE
        WHERE NOTICE_ID = #{noticeId}
    </select>

    <update id="increaseViewCount" parameterType="long">
        UPDATE MN_NOTICE SET VIEW_CNT = VIEW_CNT + 1 WHERE NOTICE_ID = #{noticeId}
    </update>

</mapper>